/acquisition_left:
  ros__parameters:
    serialNumber: "KE0220030137"
    exposureTime: 40000
    autoExposure: False # Mporoun na mpoun kai True kai exposureTime, ta exw kanei handle sthn
    # klash ths cameras, ola komple
    expectedGrayValue: 50
    ROIx: 1280
    ROIy: 1024
    orientation: "left"

/acquisition_right:
  ros__parameters:
    serialNumber: "KE0220040196"
    exposureTime: 40000
    autoExposure: False
    expectedGrayValue: 50
    ROIx: 1280
    ROIy: 1024
    orientation: "right"

/slam:
  ros__parameters:
    velocity_estimation_frequency: 40

    # This sets the mode of operation. Set true for slam and false for localization
    mapping_mode: false
    track_map: ""         ## Insert AutoX map file here

    # Defines the starting position of the car
    starting_position: [ -7.5, 0.0, 0.0 ]
    starting_position_covariance: [ 0.5, 0.1, 0.1 ]

    # The max distance perception measurements are accepted
    perception_range: 13.0

    # After how many time steps the optimization algorithm would be executed
    optimization_interval: 4

    # The max distance at which two cones would be associated
    association_threshold: 1.9
    min_observations: 4

    # iSAM parameters
    relinearize_threshold: 0.1
    relinearize_skip: 1

    # Big orange cones for starting/finish line
    left_orange: [0.0, -2.5]
    right_orange: [0.0, 2.5]

    lap_counter_cooldown: 10

    logger: true

/saltas:
  ros__parameters:
      velocity_estimation_frequency: 40   # Hz
      perception_frequency: 10            # Hz

/velocity_estimation:
  ros__parameters:
    frequency: 40                         # [Hz]
    initial_state_vector: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]

    initial_state_covariance: [1.0e-3,    0.0,    0.0,    0.0,    0.0,    0.0,
                                  0.0, 1.0e-3,    0.0,    0.0,    0.0,    0.0,
                                  0.0,    0.0, 1.0e-3,    0.0,    0.0,    0.0,
                                  0.0,    0.0,    0.0, 1.0e-3,    0.0,    0.0,
                                  0.0,    0.0,    0.0,    0.0, 1.0e-3,    0.0,
                                  0.0,    0.0,    0.0,    0.0,    0.0, 1.0e-3]
    
    process_noise_covariance: [  0.007,      0.0,      0.0,      0.0,      0.0,      0.0,
                                   0.0,    0.008,      0.0,      0.0,      0.0,      0.0,
                                   0.0,      0.0,   0.0001,      0.0,      0.0,      0.0,
                                   0.0,      0.0,      0.0,   0.0005,      0.0,      0.0,
                                   0.0,      0.0,      0.0,      0.0,   0.0003,      0.0,
                                   0.0,      0.0,      0.0,      0.0,      0.0,   0.0001]

    measurement_noise_covariance: [   0.030,-13.0e-4,      0.0,       0.0,       0.0,  0.0,   0.0,
                                   -13.0e-4,   0.024,      0.0,       0.0,       0.0,  0.0,   0.0,
                                        0.0,     0.0, 1.22e-06,       0.0,       0.0,  0.0,   0.0,
                                        0.0,     0.0,      0.0,     0.032,-7.612e-05,  0.0,   0.0,
                                        0.0,     0.0,      0.0,-7.612e-05,     0.051,  0.0,   0.0,
                                        0.0,     0.0,      0.0,       0.0,       0.0, 60.0,   0.0,
                                        0.0,     0.0,      0.0,       0.0,       0.0,  0.0, 180.0]

    # Sensor Positions
    vectornav-vn-200:
      x: 0.49                   # [m]
      y: 0.00                   # [m]
      roll: -0.147              # [deg]
      pitch: -3.358             # [deg]
    vectornav-vn-300:
      x: 0.18                   # [m]
      y: 0.00                   # [m]
      roll: -1.121              # [deg]
      pitch: 1.452              # [deg]
    
    # Car characteristics
    wheel_radius: 0.1995        # [m]
    front_axle: 0.76            # [m]
    rear_axle: 0.89             # [m]